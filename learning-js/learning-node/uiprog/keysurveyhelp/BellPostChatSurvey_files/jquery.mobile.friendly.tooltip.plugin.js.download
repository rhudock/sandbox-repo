var mobileFriendlyTooltipModule=(function(b){var a=function(){var d=document.createElement("div");d.setAttribute("ongesturestart","return;");return typeof d.ongesturestart==="function";};var c=function(i){var g="mouseenter";var d="click";if(a()){g="touchstart";d="touchstart";}var f=(i&&i.length>0)?i:b("[rel~=tooltip]"),h=false,e=false,j=false;if(f.length<1){return false;}f.each(function(){var k=b(this);k.off();k.data("title",k.attr("title")).removeAttr("title");});f.on(g,function(m){h=b(this);var n=h.data("title");e=b('<div id="tooltip"></div>');if(!n||n===""){return false;}h.removeAttr("title");e.css("opacity",0).html(n).appendTo("body");var l=function(){if(b(window).width()<e.outerWidth()*1.5){e.css("max-width",b(window).width()/2);}else{e.css("max-width",340);}var o=h.offset().left+(h.outerWidth()/2)-(e.outerWidth()/2),p=h.offset().top-e.outerHeight()-20;if(o<0){o=h.offset().left+h.outerWidth()/2-20;e.addClass("left");}else{e.removeClass("left");}if(o+e.outerWidth()>b(window).width()){o=h.offset().left-e.outerWidth()+h.outerWidth()/2+20;e.addClass("right");}else{e.removeClass("right");}if(p<0){p=h.offset().top+h.outerHeight();e.addClass("top");}else{e.removeClass("top");}e.css({left:o,top:p}).animate({top:"+=10",opacity:1},50);};l();b(window).resize(l);var k=function(){e.animate({top:"-=10",opacity:0},50,function(){b(this).remove();});h.data("title",n);};h.bind("mouseleave",k);e.bind(d,k);m.stopPropagation();return false;});return true;};return{Run:function(d){c(d);}};})(jQuery);