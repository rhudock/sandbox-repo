if(window.LQ_Utils){throw"There is another instance of LQ_Utils! Check JS includes.";}var LQ_Utils=(function(g){var h=10000;var j="votingFilters";var l=(j+"[").length;var f=function(r){return KS_Utils.log(r);};var q=function(s){var r=s.parents(".dev_lookupField");if(r.length>0){r.css("zIndex",h++);LQ_Utils.log("zIndexUp: "+r+" -> "+h);}return false;};var p=function(s){var r=s.parents(".dev_lookupField");if(r.length>0){var t=r.attr("dev_zIndex");r.css("zIndex",t);LQ_Utils.log("zIndexDown: "+r+" -> "+t);}return false;};var n=function(r){return r.indexOf("lookupFinalSelect")==0;};var d=function(r){return"lookupFinalSelect_"+r;};var k=function(r){return r.replace(/\D/g,"");};var i=function(r){return g("input:hidden[name^='other"+r+"']");};var b=function(r){return LQ_Core.getLookupDTO(r).dmFields;};var m=function(v,r){var u=b(v);for(var t=0;t<u.length;t++){var s=u[t];if(s.questionId==r){return s;}}};var a=function(r){LQ_Utils.log("getFieldIdByName: "+r);return r.substring(l,r.length-1);};var e=function(r){return j+"["+r+"]";};var c=function(z,B,s){var w=LQ_Core.getNameParts(z);var u={};for(var v=0;v<w.length;v++){var y=w[v].value;var A=m(z,y);if(A!=undefined){var C=LQ_Core.getFieldAnswerMapping(z)[y];u[C]=B[A.name];}}var r=LQ_Core.getKeyFieldId(z);var x=LQ_Core.getFieldAnswerMapping(z)[r];var t=LQ_Core.getKeyFieldName(z);u[x]=B[t];return LQ_Core.getComplexName(z,s,u,true);};var o=function(t){return false;if(t.length>0){var r=-1;g("[tabindex]").attr("tabindex",function(w,v){r=Math.max(r,+v);});var s=parseInt(t.attr("tabindex"));var u;do{s++;u=g("[tabindex="+(s)+"]");}while(!(u.length>0&&u.is(":input, a[href], area[href], iframe"))&&s<r);if(u.length>0){u.focus();}}};return{log:f,zIndexUp:q,zIndexDown:p,isFinalSelect:n,getFinalSelectId:d,getElementIdNum:k,getHiddenElements:i,focusNextElem:o,getComplexName:c,getFieldIdByName:a,getFilterNameById:e,getFieldByQuestionId:m,getFields:b};})(jQuery);